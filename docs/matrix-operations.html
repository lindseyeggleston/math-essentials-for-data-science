

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Matrix operations &mdash; math essentials 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="math essentials 1.0 documentation" href="index.html"/>
        <link rel="next" title="Linear Algebra I" href="linear-algebra-1.html"/>
        <link rel="prev" title="Thinking in terms of vectors and matrices" href="introduction.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> math essentials
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Day 1:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Thinking in terms of vectors and matrices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Matrix operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quick-reference">Quick reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dimensional-requirements-for-matrix-multiplication">Dimensional requirements for matrix multiplication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-properties-of-matrices">Basic properties of matrices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#basic-matrix-operations">Basic matrix operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#special-addition-and-multiplication-operators">Special addition and multiplication operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sorting-arrays">Sorting arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-math-functions">Common math functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-operations-exercise">Basic operations exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="linear-algebra-1.html">Linear Algebra I</a></li>
</ul>
<p class="caption"><span class="caption-text">Day 2:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="linear-algebra-2.html">Linear Algebra Part II</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix-decomposition.html">Matrix Decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="pca-and-svd.html">PCA and SVD</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install-python.html">Python Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="numpy-commands.html">NumPy Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="extra-numpy.html">Other important NumPy commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">Works cited</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">math essentials</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Matrix operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/matrix-operations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="matrix-operations">
<h1>Matrix operations<a class="headerlink" href="#matrix-operations" title="Permalink to this headline">¶</a></h1>
<p>Learning objectives:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Understand the dimensional requirements for matrix multiplication</li>
<li>Understand and be able to execute <strong>elementwise</strong> arithmetric operators in NumPy</li>
<li>Become even more comfortable with vectors and matrices in NumPy</li>
</ol>
</div></blockquote>
<div class="section" id="quick-reference">
<h2>Quick reference<a class="headerlink" href="#quick-reference" title="Permalink to this headline">¶</a></h2>
<p>Here we provide a summary the important commands that have already been introduced.</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">NumPy command</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>a.ndim</td>
<td>returns the num. of dimensions or the <strong>rank</strong></td>
</tr>
<tr class="row-odd"><td>a.shape</td>
<td>returns the num. of rows and colums</td>
</tr>
<tr class="row-even"><td>a.size</td>
<td>returns the num. of rows and colums</td>
</tr>
<tr class="row-odd"><td>arange(start,stop,step)</td>
<td>returns a sequence vector</td>
</tr>
<tr class="row-even"><td>linspace(start,stop,steps)</td>
<td>returns a evenly spaced sequence in the specificed interval</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dimensional-requirements-for-matrix-multiplication">
<h2>Dimensional requirements for matrix multiplication<a class="headerlink" href="#dimensional-requirements-for-matrix-multiplication" title="Permalink to this headline">¶</a></h2>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">In order for the matrix product (<span class="math">\(A \times B\)</span>) to
exist, the number of columns in <span class="math">\(A\)</span> must equal
the number of rows in <span class="math">\(B\)</span>.</p>
</div>
<div class="section" id="basic-properties-of-matrices">
<h3>Basic properties of matrices<a class="headerlink" href="#basic-properties-of-matrices" title="Permalink to this headline">¶</a></h3>
<p>It is convention to represent vectors as column matrices.  We are
explicit in this representation in that we define two axes even
through the number of columns is only one.</p>
<p>A <strong>column matrix</strong> in NumPy.</p>
<div class="math">
\[\begin{split}\mathbf{x} =
\begin{pmatrix}
3  \\
4  \\
5  \\
6
\end{pmatrix}\end{split}\]</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Again notice the pair of double brackets</p>
</div>
<p>The <code class="docutils literal"><span class="pre">.T</span></code> indicates a <strong>transpose</strong> operation.  In the case of
vectors we go from a rowwise representation to a columnwise one and
vice versa.  We will spend more time on transposes in the next
section.</p>
<p>A <strong>row matrix</strong> in NumPy.</p>
<div class="math">
\[\mathbf{x}^{T} =
\begin{pmatrix}
3 &amp; 4 &amp; 5 &amp; 6
\end{pmatrix}\]</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
</pre></div>
</div>
<p>Since this is linear algebra essentials with the goal of preparing you
for a learning experience in data science, lets introduce a running
example that will help ground much of the notation and concepts.</p>
<p>Machine learning can be roughly split into two types of learning problems.</p>
<blockquote>
<div><ul class="simple">
<li><strong>Supervised learning</strong> - learn a mapping from inputs <span class="math">\(\mathbf{X}\)</span> to outputs <span class="math">\(y\)</span></li>
<li><strong>Unsupervised learning</strong> - given only <span class="math">\(\mathbf{X}\)</span>, learn interesting patterns in <span class="math">\(\mathbf{X}\)</span></li>
</ul>
</div></blockquote>
<p>An example of this is to predict total snowfall, which would be a
continuous <span class="math">\(\mathbf{y}\)</span>.  When we use a feature matrix
<span class="math">\(\mathbf{X}\)</span> to predict <span class="math">\(\mathbf{y}\)</span> it is an example of
<strong>supervised learning</strong>.  Our feature matrix would be a number of
column vectors <span class="math">\(\mathbf{x}\)</span> horizontally stacked together to
form <span class="math">\(\mathbf{X}\)</span>.  Examples of these features might be: the
elevation, latitude, average winter temperature, historical snowfall
data and more..</p>
<p>If we wanted to discover patterns in <span class="math">\(\mathbf{X}\)</span> then we could
take an such as clustering, which would be an example of
<strong>unsupervised learning</strong>.  Patterns in this case would likely
correspond to mountain ranges and and meteorlogical or oceananic events..</p>
<p>If we think of the features of a matrix as column vectors.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">feature1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">99</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">14</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">24</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
<p>We can stack them into a matrix using <code class="docutils literal"><span class="pre">hstack</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">feature1</span><span class="p">,</span><span class="n">feature2</span><span class="p">,</span><span class="n">feature3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span>
<span class="go">array([[99,  0,  5],</span>
<span class="go">       [45,  1,  3],</span>
<span class="go">       [31,  1,  9],</span>
<span class="go">       [14,  0, 24]])</span>
</pre></div>
</div>
<p>There are easier ways to create matrices, such as reading directly
from a csv file, but the ability to concatenate matrices is important.
With <code class="docutils literal"><span class="pre">hstack</span></code> we <strong>horizontally</strong> stacked our column vectors.  The
sister function <code class="docutils literal"><span class="pre">vstack</span></code> allows us to <strong>vertically</strong> stack vectors
or matrices in a similar way.</p>
<p>We may access the individual elements of <span class="math">\(\mathbf{X}\)</span> through <strong>indexing</strong></p>
<div class="math">
\[\begin{split} \mathbf{X} =
\begin{pmatrix}
 X_{1,1} &amp; X_{1,2} \\
 X_{2,1} &amp; X_{2,2} \\
\end{pmatrix}\end{split}\]</div>
<p>In the above matrix we show how to explicitly refer to any element in
<span class="math">\(\mathbf{X}\)</span>.  It is also quite common to refer to a generic
element in <span class="math">\(\mathbf{X}\)</span> as <span class="math">\(\mathbf{X}_{i,j}\)</span>, where if
you picked up on the pattern indexing occurs by stating the <strong>row</strong> then the <strong>column</strong>.
In NumPy you are following the same pattern.  Using the feature matrix created above:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">45</span>
</pre></div>
</div>
<p>And if we want to access our first column vector again</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">array([99, 45, 31, 14])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
<span class="go">array([99, 45, 31, 14])</span>
</pre></div>
</div>
<p>We now see that an array with 2 axes is indexed and even <strong>sliced</strong>
one axis at a time.  1D arrays can be indexed in the same way a Python
list can.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">array([2, 3])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[:</span><span class="mi">10</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">array([0, 2, 4, 6, 8])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])</span>
</pre></div>
</div>
<p>If we go back to the <code class="docutils literal"><span class="pre">X</span></code> matrix there are many useful functions once we are here including <code class="docutils literal"><span class="pre">mean</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([ 47.25,   0.5 ,  10.25])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([ 34.66666667,  16.33333333,  13.66666667,  12.66666667])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">19.333333333333332</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">axis 0 refers to a mean with respect to the columns</p>
</div>
</div>
</div>
<div class="section" id="basic-matrix-operations">
<h2>Basic matrix operations<a class="headerlink" href="#basic-matrix-operations" title="Permalink to this headline">¶</a></h2>
<p>This has already been stated once.  But since it is important lets say it a different way.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to multiply two matrices, they must be
<strong>conformable</strong> such that the number of columns of the first
matrix must be the same as the number of rows of the second
matrix.</p>
</div>
<p>When we say multiply two matrices it does not mean multiply in the sense that you might think.
The <strong>matrix product</strong> of two matrices is another matrix.</p>
<p>If we have two vectors <span class="math">\(\mathbf{x}\)</span> and <span class="math">\(\mathbf{y}\)</span> of the same length <span class="math">\((n)\)</span>, then the <strong>dot product</strong> is give by</p>
<div class="math">
\[\mathbf{x} \cdot \mathbf{y} = x_1y_1 + x_2y_2 + \cdots + x_ny_n\]</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Arithmetic operators in NumPy work <strong>elementwise</strong></p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
<span class="go">array([ 2.,  3.,  4.])</span>
</pre></div>
</div>
<p>Something that can be tricky for people familar with other programming languages is that the * operator
<strong>does not</strong> carry out a matrix product.  This is done with the
<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html">dot</a> function.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[1, 2],</span>
<span class="go">       [3, 4]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">array([[1, 2],</span>
<span class="go">       [3, 4]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="go">array([[ 1,  4],</span>
<span class="go">       [ 9, 16]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="go">array([[ 7, 10],</span>
<span class="go">       [15, 22]])</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]))</span>
</pre></div>
</div>
<p>The <strong>dot product</strong> is a very important concept that we will reuse many times going forward.  The dot product is generally written as</p>
<div class="math">
\[a^{T} b\]</div>
<p>when you write <code class="docutils literal"><span class="pre">np.dot</span></code> the NumPy package will sometimes assume that you mean to do this such as in the case of the above example.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]))</span>
<span class="go">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="go">array([[50]])</span>
</pre></div>
</div>
<p>The dot product is an essential building block of <strong>matrix
multiplication</strong>. The table below shows that when we multiply two
matrices the result is a table of dot products for pairs of vectors
making up the entries of each matrix.</p>
<p>First think about this in terms of square matrices and see if you can identify the pattern.</p>
<p>Perform matrix multiplication on a square matrix.  This is how it works—code the pattern.</p>
<div class="math">
\[\begin{split}\begin{pmatrix}
a &amp; b \\
c &amp; d \\
\end{pmatrix}
\times
\begin{pmatrix}
e &amp; f \\
g &amp; h \\
\end{pmatrix}
=
\begin{pmatrix}
ae+bg &amp; af+bh \\
ce+dg &amp; cf+dh \\
\end{pmatrix}\end{split}\]</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Once you see what is happening this figure can help you understand how the pattern generalizes to different shap matrices.  Figuring out the shape of a matrix that gets</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="_images/matrix-multiplication.png"><img alt="galvanize-logo" src="_images/matrix-multiplication.png" style="width: 156.0px; height: 156.0px;" /></a>
</div>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Matrix_multiplication">https://en.wikipedia.org/wiki/Matrix_multiplication</a></p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">There is a pattern to figure out the size fo the resulting matrix.
result = Num Rows in 1st matrix <span class="math">\(\times\)</span> Num Columns in 2nd Matrix</p>
</div>
<div class="admonition-questions admonition">
<p class="first admonition-title">Questions</p>
<ol class="last arabic">
<li><p class="first">Given the following code write the multiplication out on paper <strong>and</strong> run it Python to check your math</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]),</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">If we multiply a <span class="math">\(2 \times 3\)</span> matrix with a <span class="math">\(3 \times 1\)</span> matrix, the product matrix is <span class="math">\(2 \times 1\)</span>.</p>
<p>Write an example of this on paper with simple numbers to see if you can understand why.</p>
</li>
</ol>
</div>
<p><a class="reference external" href="https://www.youtube.com/watch?v=KDHuWxy53uM">Khan academy video on dot products</a></p>
<div class="section" id="special-addition-and-multiplication-operators">
<h3>Special addition and multiplication operators<a class="headerlink" href="#special-addition-and-multiplication-operators" title="Permalink to this headline">¶</a></h3>
<p>Like in regular Python there is a special operator.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">+=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[ 5.,  5.],</span>
<span class="go">       [ 5.,  5.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">*=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[ 25.,  25.],</span>
<span class="go">       [ 25.,  25.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">+</span> <span class="n">a</span>
<span class="go">array([[ 50.,  50.],</span>
<span class="go">       [ 50.,  50.]])</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting-arrays">
<h3>Sorting arrays<a class="headerlink" href="#sorting-arrays" title="Permalink to this headline">¶</a></h3>
<p>NumPy has <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.random.html">a useful submodule to create random numbers</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">array([0, 1, 5, 6, 7])</span>
</pre></div>
</div>
<p>We can also reshuffle the array</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">array([1, 0, 6, 5, 7])</span>
</pre></div>
</div>
<p>But sometimes we do not want to change our matrix, but knowing the sorted indices may be useful and here <code class="docutils literal"><span class="pre">argsort</span></code> can be very useful.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_inds</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_inds</span>
<span class="go">array([1, 0, 3, 2, 4])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">[</span><span class="n">sorted_inds</span><span class="p">]</span>
<span class="go">array([0, 1, 5, 6, 7])</span>
</pre></div>
</div>
</div>
<div class="section" id="common-math-functions">
<h3>Common math functions<a class="headerlink" href="#common-math-functions" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="go">array([ 3.14159265,  4.44288294,  5.44139809,  6.28318531])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span><span class="o">**</span><span class="mi">4</span>
<span class="go">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="go">16</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">e</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p>There are <a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.math.html">so many mathematical functions available to you in NumPy</a></p>
</div>
<div class="section" id="basic-operations-exercise">
<h3>Basic operations exercise<a class="headerlink" href="#basic-operations-exercise" title="Permalink to this headline">¶</a></h3>
<div class="admonition-exercise admonition">
<p class="first admonition-title">Exercise</p>
<p>In the following table we have expression values for 5 genes at 4 time points.
These are completely made up data.  Although, some of the questions can be
easily answered by looking at the data, microarray data generally come in much
larger tables and if you can figure it out here the same code will work for an
entire gene chip.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="20%" />
<col width="20%" />
<col width="18%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Gene name</th>
<th class="head">4h</th>
<th class="head">12h</th>
<th class="head">24h</th>
<th class="head">48h</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A2M</td>
<td>0.12</td>
<td>0.08</td>
<td>0.06</td>
<td>0.02</td>
</tr>
<tr class="row-odd"><td>FOS</td>
<td>0.01</td>
<td>0.07</td>
<td>0.11</td>
<td>0.09</td>
</tr>
<tr class="row-even"><td>BRCA2</td>
<td>0.03</td>
<td>0.04</td>
<td>0.04</td>
<td>0.02</td>
</tr>
<tr class="row-odd"><td>CPOX</td>
<td>0.05</td>
<td>0.09</td>
<td>0.11</td>
<td>0.14</td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li>Create a single array for the data (4x4)</li>
<li>Find the mean expression value <em>per gene</em></li>
<li>Find the mean expression value <em>per time point</em></li>
</ol>
<p><strong>Extra Credit</strong></p>
<ol class="last arabic simple" start="4">
<li>Which gene has the maximum mean expression value?</li>
<li>Sort the gene names by the max expression value</li>
</ol>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geneList</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="s2">&quot;A2M&quot;</span><span class="p">,</span> <span class="s2">&quot;FOS&quot;</span><span class="p">,</span> <span class="s2">&quot;BRCA2&quot;</span><span class="p">,</span><span class="s2">&quot;CPOX&quot;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values0</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.12</span><span class="p">,</span><span class="mf">0.08</span><span class="p">,</span><span class="mf">0.06</span><span class="p">,</span><span class="mf">0.02</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values1</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.01</span><span class="p">,</span><span class="mf">0.07</span><span class="p">,</span><span class="mf">0.11</span><span class="p">,</span><span class="mf">0.09</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values2</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.03</span><span class="p">,</span><span class="mf">0.04</span><span class="p">,</span><span class="mf">0.04</span><span class="p">,</span><span class="mf">0.02</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values3</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.09</span><span class="p">,</span><span class="mf">0.11</span><span class="p">,</span><span class="mf">0.14</span><span class="p">]])</span>
</pre></div>
</div>
<ul class="last simple">
<li><a class="reference download internal" href="_downloads/breakout1.ipynb" download=""><code class="xref download docutils literal"><span class="pre">../notebooks/breakout1.ipynb</span></code></a></li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="linear-algebra-1.html" class="btn btn-neutral float-right" title="Linear Algebra I" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral" title="Thinking in terms of vectors and matrices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Galvanize DS.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>